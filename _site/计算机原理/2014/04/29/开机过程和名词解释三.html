<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>开机过程和名词解释III - GRUB</title>
        <meta name="viewport" content="width=device-width">

        <!-- favicon -->
        <link rel="shortcut icon" type="image/x-icon" href="/assets/favicon.ico">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

        <!-- RSS Feed -->
        <link rel="alternate" type="application/rss+xml" title="RSS" href="feed.xml">

    </head>
    <body>

        <div class="site">
          <div class="header">
            <h1 class="title"><a href="/">ZP</a></h1>
            <a class="extra" href="/">home</a>
            <a class="extra" href="/categories.html">categories</a>
          </div>

          <h2>开机过程和名词解释III - GRUB</h2>
<p class="meta">29 Apr 2014</p>

<div class="post">
<h1>GNU GRUB</h1>

<p><em>GNU GRUB(Grand Unified Boot Loader)是一个来自<a href="http://zh.wikipedia.org/wiki/GNU%E8%A8%88%E5%8A%83" title="GNU计划">GNU项目</a>的启动引导程序，主要用于类Unix系统。其任务是加载操作系统内核并移交控制权。允许用户选择要载入的已安装的操作系统或内核，也允许用户向​内​核​传​递​参​数。当前稳定版为2.00(GRUB2)，官方所称GRUB即GRUB2，前一版本称为GRUB Legacy。</em></p>

<p>GRUB功能强大，如支持直接和链式载入方式，几乎可引导任何操作系统；支持所有Unix文件系统和Windows适用的FAT、NTFS文件系统；从网络下载操作系统镜像而支持无盘系统；GRUB提示符交互功能等。</p>

<h2>基于BIOS和MBR的GRUB引导过程</h2>

<p>GRUB阶段1程序(boot.img)位于MBR中。MBR引导程序作用是定位GRUB，并将阶段1载入内存。受MBR空间影响，阶段1所做几乎只是装载阶段2。阶段2载入内存，作用是显示GRUB菜单和命令环境，提供选择操作系统或内核、传递参数给内核和查看系统参数功能。完成选择后GRUB将内核载入内存，然后移交控制权给内核，由内核载入操作系统。</p>

<p>以上方式称为直接载入(direct loading)，GRUB还支持Windows使用的链式载入(chain loading)。此方式下，MBR指向存放操作系统的分区的第一个扇区，找到所需文件(另一个启动器)来引导操作系统。</p>

<h2>基于UEFI的GRUB引导过程</h2>

<p>EFI挂载EFI系统分区(/boot/efi/)，Ubuntu提供的EFI软件位于/boot/efi/EFI/ubuntu/，其中包含EFI固件架构编译的grubx64.efi文件。grubx64.efi作为缺省的引导程序被读入内存，可以选择操作系统，并进行控制权移交。对于基于UEFI的系统，链加载通常不是必需的。EFI引导管理者可以加载EFI系统分区里出现的任何操作系统引导加载程序。</p>

<p><em>GRUB移交控制权后，接下去的工作便交由操作系统完成。</em></p>

<h1>参看</h1>

<ul>
<li><a href="http://zh.wikipedia.org/wiki/%E5%90%AF%E5%8A%A8%E5%BC%95%E5%AF%BC%E7%A8%8B%E5%BA%8F" title="引导程序">引导程序-维基百科</a></li>
<li><a href="http://zh.wikipedia.org/wiki/GNU_GRUB" title="GNU GRUB">GRUB-维基百科</a></li>
<li><a href="http://www.gnu.org/software/grub/" title="GNU GRUB">GNU GRUB</a></li>
<li><a href="https://wiki.archlinux.org/index.php/GRUB" title="GRUB">GRUB-Archlinux</a></li>
<li><a href="https://access.redhat.com/site/documentation/zh-CN/Red_Hat_Enterprise_Linux/6/html/Installation_Guide/s1-grub-whatis.html" title="基​于​BIOS的​x86系​统​上​的​GRUB和​引​导​过​程​">基​于​BIOS的​x86系​统​上​的​GRUB和​引​导​过​程​</a></li>
<li><a href="https://access.redhat.com/site/documentation/zh-CN/Red_Hat_Enterprise_Linux/6/html/Installation_Guide/s2-grub-whatis-booting-uefi.html" title="基​于​UEFI的​x86系​统​上​的GRUB和​引​导​过​程​">基​于​UEFI的​x86系​统​上​的GRUB和​引​导​过​程​</a></li>
<li><a href="http://zh.wikipedia.org/wiki/LILO" title="LILO">LILO</a></li>
<li><a href="http://zh.wikipedia.org/wiki/NTLDR" title="NTLDR">NTLDR-维基百科</a></li>
</ul>

</div>


          <div class="footer">
            <div class="contact">
              <p>
                <a href="feed.xml">feed: rss 2.0</a><br />
                <a href="https://github.com/zp25">github.com/zp25</a><br />
                <a href="mailto:zebrap25@gmail.com" target="_blank">zebrap25@gmail.com</a>
              </p>
            </div>
          </div>
        </div>

    </body>
</html>
